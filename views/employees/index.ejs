<h1 class="text-2xl font-bold mb-4">Employees</h1>

<a href="/employees/new" class="bg-blue-500 text-white px-4 py-2 rounded">+ Add Employee</a>

<table class="table-auto w-full mt-4 border-collapse border border-gray-300">
  <thead>
    <tr class="bg-gray-100">
      <th class="border px-4 py-2">Name</th>
      <th class="border px-4 py-2">Email</th>
      <th class="border px-4 py-2">Job Title</th>
      <th class="border px-4 py-2">Department</th>
      <th class="border px-4 py-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% if (employees.length === 0) { %>
      <tr>
        <td colspan="5" class="text-center py-4">No employees found</td>
      </tr>
    <% } %>
    <% employees.forEach(e => { %>
      <tr>
        <td class="border px-4 py-2"><%= e.name %></td>
        <td class="border px-4 py-2"><%= e.email %></td>
        <td class="border px-4 py-2"><%= e.jobTitle %></td>
        <td class="border px-4 py-2"><%= e.department?.name || 'N/A' %></td>
        <td class="border px-4 py-2">
          <a href="/employees/<%= e._id %>/edit" class="bg-yellow-500 text-white px-2 py-1 rounded">Edit</a>
          <form action="/employees/<%= e._id %>?_method=DELETE" method="POST" style="display:inline">
            <button type="submit" class="bg-red-500 text-white px-2 py-1 rounded"
              onclick="return confirm('Are you sure?')">Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
